import{O as e,S as t,P as n,W as a,G as o,F as s,a as i,T as r,R as d,M as l,b as m,V as c,c as u,d as g,e as p,f as h}from"./vendor.ded4d796.js";const y=new Audio("/mb/stargate/assets/chevron.06d08dec.mp3"),w=new Audio("/mb/stargate/assets/gate_start.9cad442f.mp3"),f=new Audio("/mb/stargate/assets/gate_roll.9a7d19ec.mp3"),M=new Audio("/mb/stargate/assets/gate_open.bb46a25a.mp3"),L=new Audio("/mb/stargate/assets/gate_opened.948a4e4a.mp3"),T=new Audio("/mb/stargate/assets/alert.a825a5ad.mp3"),v=new Audio("/mb/stargate/assets/kill_switch.c6635c65.mp3"),b=new Audio("/mb/stargate/assets/epic_sax_guy.b60b22c1.mp3");y.volume=.12,w.volume=.12,f.volume=.12,M.volume=.12,L.volume=.12,T.volume=.12,v.volume=.2,b.volume=.12;const B=["-","|","_"," "],E=["#29A6A6","#D5C896","#CCC99C","#2B5858"],H=[];var I=null;const O=[0,29,21,34,20,37,3,26,6,14,11,17,36,31,25,18,4,30,1,16,27,19,28,9,15,24,10,33,8,13,22,5,38,35,32,2,23,7,12],N=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n"],j=[2,2,1,1,2,1,2,1,1,2,1,2,2,2,1,1,1,2,1,2,1,2,2,2,1,2,2,1,1,1,1,1,2,2,2],_=[1,3,1,3,1,1,1,3,1,1,3,1,1,3,1,1,3,1,1,1,3,1,1,3,1,1,1,3,1,3,1,1,3,1,6],S=[5,2,4,4,1,4,5,3,0],A=[1,4,2,1,1,3,4,4,10];var C=[0,0,0,0,0,0,0],R=[0,0,0,0,0,0,0],G=[],k=0,x=0,W=1,z=1,F=0,D=0,P=0,q=1,K=0,X=0,Y=0,V=0,Z=0,J=0,Q=0,U=new e,$=0,ee="none",te=0,ne=2e3;const ae=document.getElementById("binary-1"),oe=document.getElementById("binary-2");for(let Qe=1;Qe<=5;Qe++)H.push(document.getElementById("light-"+Qe));const se=document.getElementById("symbolSelection"),ie=document.getElementById("circle");document.getElementById("message");const re=document.getElementById("planetName").firstElementChild,de=[],le=[],me=[];for(let Qe=0;Qe<7;Qe++)de.push(document.getElementById("symbol-"+Qe)),le.push(document.getElementById("chevron-"+Qe)),me.push(document.getElementById("status-"+Qe));const ce=[];for(let Qe=1;Qe<=6;Qe++)ce.push(document.getElementById("sd-input-num-"+Qe));const ue=[];ue.push(document.getElementById("sd-input")),ue.push(document.getElementById("info-input")),ue.push(document.getElementById("stargate-input"));const ge=[];ge.push(document.getElementById("sd-panel")),ge.push(document.getElementById("info-panel")),ge.push(document.getElementById("stargate-panel"));const pe=new t,he=new n(35,window.innerWidth/window.innerHeight,.1,1e3),ye=new a({canvas:document.querySelector("#bg"),antialias:!0}),we=new o;new s;var fe=new e;const Me=[],Le=[],Te=[],ve=new i,be=new i(9895936,0,.5),Be=new i(9895936,0,.5),Ee=[],He=(new r).load("/mb/stargate/assets/concrete_back_color.9707cd60.png"),Ie=(new r).load("/mb/stargate/assets/concrete_back_normal.c85dcadb.png"),Oe=new u,Ne=new g,je=[];function _e(e){I=e,se.style.display="grid"}function Se(e){se.style.display="none",C[I]=e,0==R[I]&&(k+=1,R[I]=1),de[I].innerHTML=N[e],k>6&&(!function(){q=0;for(var e=0;e<7;e++)G.unshift(O.indexOf(C[e]));document.getElementById("message").firstElementChild.innerHTML="DIALING",document.getElementById("message").style.color="yellow",q=1,T.play(),T.loop=!0}(),k=0)}function Ae(){var e="https://simposium.cz/mb/api/symbol-database/";for(let t=1;t<=6;t++)e+=document.getElementById("sd-input-num-"+t).value;Ge(e,Re)}function Ce(e){const t=document.getElementById("sd-input-num-"+e);for(var n=t.value.split(""),a=0;a<n.length;a++){var o=n.pop();if(o>="0"&&o<="9")return void(t.value=o)}t.value="0"}function Re(e){document.getElementById("sd-result").innerHTML=e}function Ge(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText)},n.open("GET",e,!0),n.send(null)}function ke(){he.aspect=window.innerWidth/window.innerHeight,he.updateProjectionMatrix(),ye.setSize(window.innerWidth,window.innerHeight)}function xe(e,t,n,a,o){(o=void 0!==o&&o)&&e.parent.localToWorld(e.position),e.position.sub(t),e.position.applyAxisAngle(n,a),e.position.add(t),o&&e.parent.worldToLocal(e.position),e.rotateOnAxis(n,a)}function We(e){ue[e].checked?ge[e].classList.add("panel-wrap-open"):ge[e].classList.remove("panel-wrap-open")}function ze(e){Oe.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),Ne.setFromCamera(Oe,he);Ne.intersectObjects(je).length>0&&(0==Y?(b.play(),b.loop=!0,Y=1):(b.pause(),b.loop=!1,b.currentTime=0,Y=0))}function Fe(){fe.getObjectByName("LightsGlass-2").material=Me[3],Le[1].intensity=1,setTimeout((function(){fe.getObjectByName("LightsGlass-2").material=Me[2],Le[1].intensity=0,setTimeout((function(){(V+=1)>35&&(V=0),1==X&&Fe()}),500*_[V])}),500*j[V])}function De(){Q<=1?0==J?(J=1,Q=S[Z],fe.getObjectByName("AlertLightLeft").material=Me[6],be.intensity=1):(J=0,Q=A[Z],fe.getObjectByName("AlertLightLeft").material=Me[5],be.intensity=1,be.intensity=0,(Z+=1)>8&&(Z=0)):Q-=1,fe.getObjectByName("AlertLightRight").material=Me[6],Be.intensity=1,setTimeout((function(){fe.getObjectByName("AlertLightRight").material=Me[5],Be.intensity=0,setTimeout((function(){De()}),500)}),500)}function Pe(){!function(){var e=(new Date).getHours().toString().padStart(2,"0"),t=(new Date).getMinutes().toString().padStart(2,"0");if(0==$){var n=":";$=1}else n=" ",$=0;(new s).load("/mb/stargate/assets/Anquietas_Regular.json",(function(a){const o=new p(e+n+t,{font:a,size:.6,height:.05});pe.remove(U),(U=new h(o,Me[4])).position.set(3.25,5.5,-2.85),pe.add(U)}))}(),setTimeout((function(){Pe()}),1e3)}function qe(){var e=100;0==X?(e=1e3,X=1):(e=100,X=0),setTimeout((function(){Ke(0,X),Ke(4,X),v.play(),setTimeout((function(){Fe(),Ke(5,X),v.cloneNode(!0).play(),setTimeout((function(){Ke(2,X),Ke(6,X),v.cloneNode(!0).play(),setTimeout((function(){Ke(3,X),Ke(7,X),v.cloneNode(!0).play(),setTimeout((function(){ve.intensity=X,v.cloneNode(!0).play()}),e)}),e)}),e)}),e)}),e)}function Ke(e,t){1==t?(Le[e].intensity=1,fe.getObjectByName("LightsGlass-"+(e+1).toString()).material=Me[3]):(Le[e].intensity=0,fe.getObjectByName("LightsGlass-"+(e+1).toString()).material=Me[2])}function Xe(e){te="none"==(ee=e)?-1:1}function Ye(e){q=0;var t=e.pop();1==e.length&&function(){for(var e="",t="https://simposium.cz/mb/api/stargate/",n=0;n<7;n++)e+=N[C[n]];Ge(t+=e,Xe)}(),0==e.length&&1!=te?(Ze(t),w.play(),f.loop=!0,setTimeout((function(){f.play()}),w.duration),ne=F,Ze(-1)):(Ze(t),P=1,w.play(),f.loop=!0,setTimeout((function(){f.play()}),w.duration))}function Ve(){const e=Math.floor(1/.003);y.play(),setTimeout((function(){D=-1,fe.getObjectByName("Chevron_Glass-7").material=Me[1],Te[0].intensity=10,setTimeout((function(){D=0,setTimeout((function(){D=1,setTimeout((function(){D=0,fe.getObjectByName("Chevron_Glass-7").material=Me[0],Te[0].intensity=0,fe.getObjectByName("Chevron_Glass-"+(1+K).toString()).material=Me[1],Te[1+K].intensity=10,le[K].classList.add("engaged"),me[K].classList.add("engaged"),me[K].children.item(0).classList.remove("engaged"),me[K].children.item(1).classList.add("engaged"),me[K].children.item(3).classList.add("engaged"),me[K].children.item(3).innerHTML="OK",(K+=1)>6&&(fe.getObjectByName("Chevron_Glass-1").material=Me[1],fe.getObjectByName("Chevron_Glass-8").material=Me[1],fe.getObjectByName("Chevron_Glass-9").material=Me[1],Te[7].intensity=10,Te[8].intensity=10,Te[0].intensity=10,document.getElementById("message").firstElementChild.innerHTML="Success",document.getElementById("message").style.color="limegreen",ie.classList.add("engaged"),re.innerHTML=ee,T.loop=!1,T.pause(),T.currentTime=0,M.play(),setTimeout((function(){L.play(),L.loop=!0}),M.duration),K=0),q=1}),e)}),400)}),e)}),700)}function Ze(e){if(-1==e)return e=0,void(F+=900);var t=0;-1==z?(z=1,W=1,t=e-x):(z=-1,W=-1,t=x-e),t<0&&(t+=39),F=t*(360/39)/.4-F,x=e}function Je(){requestAnimationFrame(Je),F>0?(1==W?(xe(fe.getObjectByName("Symbols"),new c(0,3,0),new c(0,0,1),m.degToRad(-.4)),xe(fe.getObjectByName("BGSymbols"),new c(0,3,0),new c(0,1,0),m.degToRad(.4))):(xe(fe.getObjectByName("Symbols"),new c(0,3,0),new c(0,0,1),m.degToRad(.4)),xe(fe.getObjectByName("BGSymbols"),new c(0,3,0),new c(0,1,0),m.degToRad(-.4))),-1==te&&(ne<0?(document.getElementById("message").firstElementChild.innerHTML="Failure",document.getElementById("message").style.color="red"):ne-=1),F-=1):-1==te&&0==G.length?(!function(){T.loop=!1,T.pause(),T.currentTime=0;for(var e=0;e<9;e++)fe.getObjectByName("Chevron_Glass-"+(e+1).toString()).material=Me[0],Te[e].intensity=0;for(C=[0,0,0,0,0,0,0],R=[0,0,0,0,0,0,0],k=0,te=0,K=0,ne=2e3,e=0;e<7;e++)document.getElementById("symbol-"+(e+1).toString()).innerHTML="+",le[e].classList.remove("engaged"),me[e].classList.remove("engaged"),me[e].children.item(0).classList.add("engaged"),me[e].children.item(1).classList.remove("engaged"),me[e].children.item(3).classList.remove("engaged"),me[e].children.item(3).innerHTML="KO"}(),f.loop=!1,f.pause(),f.currentTime=0):P?(f.loop=!1,f.pause(),f.currentTime=0,P=0,Ve()):0!=D?pe.getObjectByName("Chevron-7").position.y+=.003*D:G.length>0&&1==q&&Ye(G),ye.render(pe,he)}window.addEventListener("DOMContentLoaded",(function(){setInterval((()=>{ae.innerHTML.length>140&&(ae.innerHTML=ae.innerHTML.slice(1)),oe.innerHTML.length>140&&(oe.innerHTML=oe.innerHTML.slice(1)),10*Math.random()>8?ae.innerHTML+=" ":ae.innerHTML+=Math.round(Math.random()).toString(),10*Math.random()>8?oe.innerHTML+=" ":oe.innerHTML+=Math.round(Math.random()).toString()}),100),setInterval((()=>{H[0].innerHTML="",H[1].innerHTML="",H[2].innerHTML="",H[3].innerHTML="",H[4].innerHTML="";for(let e=0;e<8;e++)H[0].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[1].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[2].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[3].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[4].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>";for(let e=0;e<12;e++)H[0].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[1].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[2].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>",H[3].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>";for(let e=0;e<32;e++)H[3].innerHTML+='<span style="color:'+E[Math.round(3*Math.random())]+'">'+B[Math.round(3*Math.random())]+"<span>"}),1e3),se.style.display="none";for(let t=0;t<3;t++)ue[t].checked&&(ue[t].checked=!1);window.addEventListener("resize",ke,!1);for(let t=0;t<7;t++)document.getElementById("symbol-"+t).addEventListener("click",(function(){_e(t)}),!1);for(let t=0;t<39;t++)document.getElementById("symbolSel-"+t).addEventListener("click",(function(){Se(t)}),!1);document.getElementById("sd-search").addEventListener("click",Ae,!1);for(let t=1;t<=6;t++)document.getElementById("sd-input-num-"+t).addEventListener("keyup",(function(){Ce(t)}),!1);document.getElementById("lights").addEventListener("click",qe,!1);for(let t=0;t<3;t++)ue[t].addEventListener("change",(function(){We(t)}),!1);document.getElementById("bg").addEventListener("click",ze,!1),ye.setPixelRatio(window.devicePixelRatio),ye.setSize(window.innerWidth,window.innerHeight),he.position.setZ(12),he.position.setY(3),He.wrapS=d,He.wrapT=d,He.repeat.set(1,-1),Ie.wrapS=d,Ie.wrapT=d,Ie.repeat.set(1,-1),Ee.push(new l({map:(new r).load("/mb/stargate/assets/concrete_sides_color.0465a564.png"),normalMap:(new r).load("/mb/stargate/assets/concrete_sides_normal.5d4360a8.png")})),Ee.push(new l({map:He,normalMap:Ie})),Ee.push(new l({roughness:.1,color:2434341})),Me.push(new l({color:7350016,opacity:.8,transparent:!0,roughness:0,name:"chevron_off"})),Me.push(new l({color:16734464,opacity:.8,transparent:!0,roughness:0,name:"chevron_on",emissive:16734464,emissiveIntensity:1})),Me.push(new l({color:16777215,opacity:.8,transparent:!0,roughness:0,name:"lightbar_off"})),Me.push(new l({color:16777215,opacity:.8,transparent:!0,roughness:0,name:"lightbar_on",emissive:16777215,emissiveIntensity:1})),Me.push(new l({color:16777215,roughness:0,name:"clock_text",emissive:16777215,emissiveIntensity:.5})),Me.push(new l({color:4456449,roughness:0,name:"alertLight_off"})),Me.push(new l({color:9895936,roughness:0,name:"alertLight_on",emissive:9895936,emissiveIntensity:1})),we.load("/mb/stargate/assets/scene.gltf",(function(e){fe=e.scene,pe.add(fe);for(var t=0;t<9;t++)fe.getObjectByName("Chevron_Glass-"+(t+1).toString()).material=Me[0];for(t=0;t<8;t++)fe.getObjectByName("LightsGlass-"+(t+1).toString()).material=Me[2];fe.getObjectByName("Fance").material=new l({metalness:1,roughness:.2}),fe.getObjectByName("Sides").material=Ee[0],fe.getObjectByName("BackWall").material=Ee[1],fe.getObjectByName("Floor").material=Ee[2],fe.getObjectByName("AlertLightLeft").material=Me[5],fe.getObjectByName("AlertLightRight").material=Me[5],De(),Pe(),je.push(fe.getObjectByName("Radio"))}));for(var e=0;e<9;e++)Te.push(new i(16734464)),Te[e].intensity=0,Te[e].distance=1.5,Te[e].position.set(0,5.6,0),pe.add(Te[e]);xe(Te[1],new c(0,3,0),new c(0,0,1),m.degToRad(-36.9)),xe(Te[2],new c(0,3,0),new c(0,0,1),m.degToRad(-73.8)),xe(Te[3],new c(0,3,0),new c(0,0,1),m.degToRad(-110.7)),xe(Te[6],new c(0,3,0),new c(0,0,1),m.degToRad(36.9)),xe(Te[5],new c(0,3,0),new c(0,0,1),m.degToRad(73.8)),xe(Te[4],new c(0,3,0),new c(0,0,1),m.degToRad(110.7)),xe(Te[7],new c(0,3,0),new c(0,0,1),m.degToRad(-147.6)),xe(Te[8],new c(0,3,0),new c(0,0,1),m.degToRad(147.6));for(e=0;e<8;e++)Le.push(new i(16777215)),Le[e].intensity=0,Le[e].distance=3,Le[e].position.set(0,2.4,0),pe.add(Le[e]);for(e=0;e<4;e++)Le[e].position.x=-.75,Le[e+4].position.x=.75,Le[e].position.z=1+2.75*e,Le[e+4].position.z=1+2.75*e;ve.position.set(0,8,3.5),be.position.set(3.5,7,-2.85),Be.position.set(4.5,7,-2.85),ve.intensity=0,pe.add(ve),pe.add(be),pe.add(Be),document.body.appendChild(ye.domElement),ye.render(pe,he),Je()}),!1);
